{
  "version": "2.0",
  "exportedAt": "2024-12-28T12:00:00.000Z",
  "deck": {
    "name": "Svelte Concepts",
    "description": "Core Svelte concepts including reactivity, components, stores, SvelteKit, and Svelte 5 runes",
    "category": "Programming",
    "tags": ["svelte", "sveltekit", "frontend", "javascript", "runes"],
    "sourceLang": "en",
    "targetLang": "th"
  },
  "cards": [
    {
      "vocab": "What is Svelte and how is it different?",
      "pronunciation": "// Svelte: compile-time framework\n// No virtual DOM - compiles to vanilla JS\n\n// React approach (runtime)\nfunction Counter() {\n  const [count, setCount] = useState(0);\n  return <button onClick={() => setCount(c => c + 1)}>{count}</button>;\n}\n\n// Svelte approach (compiled)\n<script>\n  let count = 0;\n</script>\n\n<button on:click={() => count++}>{count}</button>\n\n// Key differences:\n// 1. No virtual DOM diffing\n// 2. Smaller bundle size\n// 3. Less boilerplate\n// 4. True reactivity (no hooks)\n// 5. Scoped CSS by default\n// 6. Built-in transitions/animations\n\n// Create project\nnpx sv create my-app  // SvelteKit\nnpm create vite@latest my-app -- --template svelte\n\n// File structure\n// .svelte files contain:\n// <script> - JavaScript logic\n// <style>  - Scoped CSS\n// HTML     - Template",
      "meaning": "Svelte คืออะไรและต่างจากอื่นอย่างไร?",
      "example": "Svelte is a compile-time framework - compiles components to efficient vanilla JavaScript at build time. No virtual DOM overhead. Differences from React/Vue: smaller bundles, less boilerplate, true reactivity without hooks, scoped CSS default, built-in animations. Write less code, get faster apps.",
      "exampleTranslation": "Svelte คือ compile-time framework - compile components เป็น vanilla JavaScript ที่มีประสิทธิภาพตอน build time ไม่มี virtual DOM overhead ต่างจาก React/Vue: bundles เล็กกว่า, boilerplate น้อยกว่า, true reactivity โดยไม่ต้อง hooks, scoped CSS default, built-in animations เขียน code น้อยกว่า ได้ apps เร็วกว่า"
    },
    {
      "vocab": "How does reactivity work in Svelte?",
      "pronunciation": "// Svelte 4: Automatic reactivity\n<script>\n  let count = 0;  // Reactive by default\n  \n  // Reactive statement ($:)\n  $: doubled = count * 2;  // Recalculates when count changes\n  \n  // Reactive block\n  $: {\n    console.log('count is', count);\n    console.log('doubled is', doubled);\n  }\n  \n  // Reactive if statement\n  $: if (count > 10) {\n    alert('Count is too high!');\n  }\n</script>\n\n<button on:click={() => count++}>\n  Clicked {count} times\n</button>\n<p>Doubled: {doubled}</p>\n\n// Arrays/Objects need reassignment\nlet items = [];\n\n// ❌ Won't trigger update\nitems.push('new');  \n\n// ✅ Trigger update\nitems = [...items, 'new'];\nitems = items;  // Also works\n\n// Svelte 5 Runes (new syntax)\n<script>\n  let count = $state(0);  // Explicit reactivity\n  let doubled = $derived(count * 2);  // Derived value\n</script>",
      "meaning": "Reactivity ใน Svelte ทำงานอย่างไร?",
      "example": "Svelte 4: variables are reactive by default. $: prefix creates reactive statements/blocks that rerun when dependencies change. Arrays/objects need reassignment to trigger updates. Svelte 5 introduces runes: $state() for reactive state, $derived() for computed values. Compiler tracks dependencies automatically.",
      "exampleTranslation": "Svelte 4: variables เป็น reactive by default $: prefix สร้าง reactive statements/blocks ที่รันใหม่เมื่อ dependencies เปลี่ยน Arrays/objects ต้อง reassignment เพื่อ trigger updates Svelte 5 แนะนำ runes: $state() สำหรับ reactive state, $derived() สำหรับ computed values Compiler track dependencies อัตโนมัติ"
    },
    {
      "vocab": "What are Svelte 5 Runes?",
      "pronunciation": "// Runes: new reactivity system in Svelte 5\n<script>\n  // $state: reactive state\n  let count = $state(0);\n  let user = $state({ name: 'John', age: 30 });\n  \n  // $derived: computed values\n  let doubled = $derived(count * 2);\n  let fullName = $derived(`${user.name} (${user.age})`);\n  \n  // $derived.by: complex derivations\n  let total = $derived.by(() => {\n    return items.reduce((sum, item) => sum + item.price, 0);\n  });\n  \n  // $effect: side effects (like useEffect)\n  $effect(() => {\n    console.log('Count changed:', count);\n    // Cleanup function (optional)\n    return () => console.log('Cleanup');\n  });\n  \n  // $effect.pre: runs before DOM updates\n  $effect.pre(() => {\n    // Runs before DOM update\n  });\n  \n  // $props: component props\n  let { name, age = 0 } = $props();\n  \n  // $bindable: two-way bindable props\n  let { value = $bindable() } = $props();\n</script>\n\n<!-- Deep reactivity works automatically -->\n<button on:click={() => user.age++}>\n  {user.name} is {user.age}\n</button>",
      "meaning": "Svelte 5 Runes คืออะไร?",
      "example": "Runes are Svelte 5's new reactivity primitives. $state() for reactive state (deep reactivity by default), $derived() for computed values, $effect() for side effects with cleanup, $props() for component props, $bindable() for two-way binding. More explicit than Svelte 4's implicit reactivity. Works in .svelte.js files too.",
      "exampleTranslation": "Runes คือ reactivity primitives ใหม่ของ Svelte 5 $state() สำหรับ reactive state (deep reactivity by default), $derived() สำหรับ computed values, $effect() สำหรับ side effects พร้อม cleanup, $props() สำหรับ component props, $bindable() สำหรับ two-way binding Explicit มากกว่า implicit reactivity ของ Svelte 4 ใช้ใน .svelte.js files ได้ด้วย"
    },
    {
      "vocab": "How to handle Props in Svelte?",
      "pronunciation": "// Svelte 4: export let\n// Child.svelte\n<script>\n  export let name;           // Required prop\n  export let age = 0;        // Default value\n  export let user = null;    // Optional with default\n</script>\n\n<p>{name} is {age} years old</p>\n\n// Parent.svelte\n<script>\n  import Child from './Child.svelte';\n</script>\n\n<Child name=\"John\" age={30} />\n<Child name=\"Jane\" />  <!-- age defaults to 0 -->\n\n// Spread props\n<script>\n  const props = { name: 'John', age: 30 };\n</script>\n<Child {...props} />\n\n// Svelte 5: $props rune\n<script>\n  let { name, age = 0, ...rest } = $props();\n</script>\n\n// TypeScript\n<script lang=\"ts\">\n  interface Props {\n    name: string;\n    age?: number;\n  }\n  let { name, age = 0 }: Props = $props();\n</script>\n\n// Bindable props (two-way)\n<script>\n  let { value = $bindable() } = $props();\n</script>\n\n// Parent\n<Child bind:value={parentValue} />",
      "meaning": "วิธีจัดการ Props ใน Svelte ทำอย่างไร?",
      "example": "Svelte 4: export let declares props, with optional defaults. Svelte 5: use $props() rune with destructuring. Spread props with {...props}. TypeScript: define interface for props. $bindable() enables two-way binding with bind: directive. Rest props with ...rest pattern.",
      "exampleTranslation": "Svelte 4: export let ประกาศ props พร้อม optional defaults Svelte 5: ใช้ $props() rune กับ destructuring Spread props ด้วย {...props} TypeScript: define interface สำหรับ props $bindable() enable two-way binding ด้วย bind: directive Rest props ด้วย ...rest pattern"
    },
    {
      "vocab": "How to handle Events in Svelte?",
      "pronunciation": "// DOM events\n<button on:click={handleClick}>Click</button>\n<button on:click={() => count++}>Increment</button>\n\n// Event with parameter\n<button on:click={() => handleClick(item)}>Click</button>\n\n// Event modifiers\n<button on:click|once={handler}>Once</button>\n<button on:click|preventDefault={handler}>No default</button>\n<form on:submit|preventDefault={handleSubmit}>\n\n// Modifiers:\n// preventDefault - e.preventDefault()\n// stopPropagation - e.stopPropagation()\n// once - remove after first trigger\n// self - only if event.target is element itself\n// capture - capture phase\n// passive - improves scroll performance\n\n// Chain modifiers\n<button on:click|once|preventDefault={handler}>\n\n// Component events (Svelte 4)\n// Child.svelte\n<script>\n  import { createEventDispatcher } from 'svelte';\n  const dispatch = createEventDispatcher();\n  \n  function handleClick() {\n    dispatch('message', { text: 'Hello!' });\n  }\n</script>\n\n// Parent.svelte\n<Child on:message={(e) => console.log(e.detail.text)} />\n\n// Svelte 5: use callback props instead\n<script>\n  let { onMessage } = $props();\n</script>\n<button on:click={() => onMessage?.('Hello')}>Send</button>",
      "meaning": "วิธีจัดการ Events ใน Svelte ทำอย่างไร?",
      "example": "on:event for DOM events. Modifiers: |preventDefault, |stopPropagation, |once, |self, |capture. Chain modifiers with |. Svelte 4: createEventDispatcher for component events. Svelte 5: prefer callback props (onEvent pattern). Access event object as parameter or use inline handler.",
      "exampleTranslation": "on:event สำหรับ DOM events Modifiers: |preventDefault, |stopPropagation, |once, |self, |capture Chain modifiers ด้วย | Svelte 4: createEventDispatcher สำหรับ component events Svelte 5: ใช้ callback props แทน (onEvent pattern) เข้าถึง event object เป็น parameter หรือใช้ inline handler"
    },
    {
      "vocab": "What are Bindings in Svelte?",
      "pronunciation": "// Two-way data binding with bind:\n<script>\n  let name = '';\n  let agreed = false;\n  let selected = 'a';\n  let value = 50;\n</script>\n\n<!-- Text input -->\n<input bind:value={name} />\n<input bind:value={name} placeholder=\"Name\" />\n\n<!-- Checkbox -->\n<input type=\"checkbox\" bind:checked={agreed} />\n\n<!-- Radio buttons -->\n<input type=\"radio\" bind:group={selected} value=\"a\" /> A\n<input type=\"radio\" bind:group={selected} value=\"b\" /> B\n\n<!-- Select -->\n<select bind:value={selected}>\n  <option value=\"a\">A</option>\n  <option value=\"b\">B</option>\n</select>\n\n<!-- Range -->\n<input type=\"range\" bind:value={value} min=\"0\" max=\"100\" />\n\n<!-- Element reference -->\n<script>\n  let inputElement;\n</script>\n<input bind:this={inputElement} />\n<button on:click={() => inputElement.focus()}>Focus</button>\n\n<!-- Dimensions (read-only) -->\n<div bind:clientWidth={w} bind:clientHeight={h}>\n  {w} x {h}\n</div>\n\n<!-- Component binding -->\n<Child bind:value={parentValue} />",
      "meaning": "Bindings ใน Svelte คืออะไร?",
      "example": "bind: creates two-way data binding. Works with: value (text inputs), checked (checkbox), group (radio/checkbox groups), this (element reference). Read-only bindings: clientWidth, clientHeight, scrollX, scrollY. Component binding: bind:prop passes value back to parent. Shorthand: bind:value same as bind:value={value}.",
      "exampleTranslation": "bind: สร้าง two-way data binding ใช้กับ: value (text inputs), checked (checkbox), group (radio/checkbox groups), this (element reference) Read-only bindings: clientWidth, clientHeight, scrollX, scrollY Component binding: bind:prop ส่งค่ากลับไป parent Shorthand: bind:value เหมือนกับ bind:value={value}"
    },
    {
      "vocab": "How to use conditional rendering and loops?",
      "pronunciation": "// If blocks\n{#if condition}\n  <p>Condition is true</p>\n{/if}\n\n// If-else\n{#if user.loggedIn}\n  <button on:click={logout}>Log out</button>\n{:else}\n  <button on:click={login}>Log in</button>\n{/if}\n\n// If-else if-else\n{#if x > 10}\n  <p>Greater than 10</p>\n{:else if x > 5}\n  <p>Greater than 5</p>\n{:else}\n  <p>5 or less</p>\n{/if}\n\n// Each blocks (loops)\n{#each items as item}\n  <li>{item.name}</li>\n{/each}\n\n// With index\n{#each items as item, index}\n  <li>{index + 1}: {item.name}</li>\n{/each}\n\n// With key (important for updates)\n{#each items as item (item.id)}\n  <li>{item.name}</li>\n{/each}\n\n// Destructuring\n{#each items as { name, price }}\n  <li>{name}: ${price}</li>\n{/each}\n\n// Else for empty\n{#each items as item}\n  <li>{item.name}</li>\n{:else}\n  <p>No items</p>\n{/each}\n\n// Await blocks\n{#await promise}\n  <p>Loading...</p>\n{:then data}\n  <p>{data}</p>\n{:catch error}\n  <p>Error: {error.message}</p>\n{/await}",
      "meaning": "วิธีใช้ conditional rendering และ loops ทำอย่างไร?",
      "example": "{#if}, {:else if}, {:else}, {/if} for conditionals. {#each items as item} for loops, with optional index and key (item.id). Key is important for proper DOM updates. {:else} after each for empty state. {#await} for promises with loading, success, error states. Destructuring works in each blocks.",
      "exampleTranslation": "{#if}, {:else if}, {:else}, {/if} สำหรับ conditionals {#each items as item} สำหรับ loops พร้อม optional index และ key (item.id) Key สำคัญสำหรับ DOM updates ที่ถูกต้อง {:else} หลัง each สำหรับ empty state {#await} สำหรับ promises พร้อม loading, success, error states Destructuring ใช้ใน each blocks ได้"
    },
    {
      "vocab": "What are Stores in Svelte?",
      "pronunciation": "// stores.js\nimport { writable, readable, derived } from 'svelte/store';\n\n// Writable store\nexport const count = writable(0);\n\n// With methods\ncount.set(10);           // Set value\ncount.update(n => n + 1); // Update based on current\nconst unsubscribe = count.subscribe(value => {\n  console.log(value);\n});\n\n// Readable store (external source)\nexport const time = readable(new Date(), (set) => {\n  const interval = setInterval(() => set(new Date()), 1000);\n  return () => clearInterval(interval);  // Cleanup\n});\n\n// Derived store\nexport const doubled = derived(count, $count => $count * 2);\n\n// Multiple sources\nexport const total = derived(\n  [a, b],\n  ([$a, $b]) => $a + $b\n);\n\n// In component - auto-subscribe with $\n<script>\n  import { count } from './stores.js';\n</script>\n\n<p>Count: {$count}</p>  <!-- Auto-subscribe -->\n<button on:click={() => $count++}>+</button>\n<button on:click={() => count.set(0)}>Reset</button>\n\n// Custom store\nfunction createCounter() {\n  const { subscribe, set, update } = writable(0);\n  return {\n    subscribe,\n    increment: () => update(n => n + 1),\n    reset: () => set(0),\n  };\n}",
      "meaning": "Stores ใน Svelte คืออะไร?",
      "example": "Stores are reactive state containers for sharing state across components. writable: read/write, readable: read-only (external sources), derived: computed from other stores. Use $ prefix for auto-subscription in components. Custom stores: return object with subscribe and custom methods. Cleanup function for subscriptions.",
      "exampleTranslation": "Stores เป็น reactive state containers สำหรับ share state ข้าม components writable: read/write, readable: read-only (external sources), derived: computed จาก stores อื่น ใช้ $ prefix สำหรับ auto-subscription ใน components Custom stores: return object ที่มี subscribe และ custom methods Cleanup function สำหรับ subscriptions"
    },
    {
      "vocab": "What are Lifecycle functions?",
      "pronunciation": "// Svelte 4 lifecycle\n<script>\n  import { onMount, onDestroy, beforeUpdate, afterUpdate, tick } from 'svelte';\n\n  // Runs after component mounts to DOM\n  onMount(() => {\n    console.log('Mounted');\n    const interval = setInterval(() => count++, 1000);\n    \n    // Return cleanup function\n    return () => clearInterval(interval);\n  });\n\n  // Runs before component is destroyed\n  onDestroy(() => {\n    console.log('Destroyed');\n  });\n\n  // Runs before DOM updates\n  beforeUpdate(() => {\n    console.log('About to update');\n  });\n\n  // Runs after DOM updates\n  afterUpdate(() => {\n    console.log('Updated');\n  });\n\n  // Wait for DOM update\n  async function handleClick() {\n    count++;\n    await tick();  // Wait for DOM to update\n    console.log('DOM updated');\n  }\n</script>\n\n// Svelte 5: use $effect instead\n<script>\n  import { tick } from 'svelte';\n  \n  $effect(() => {\n    console.log('Mounted or updated');\n    return () => console.log('Cleanup');\n  });\n  \n  $effect.pre(() => {\n    // Runs before DOM update\n  });\n</script>",
      "meaning": "Lifecycle functions คืออะไร?",
      "example": "Svelte 4: onMount (after mount, return cleanup), onDestroy (before destroy), beforeUpdate, afterUpdate. tick() waits for pending DOM updates. Svelte 5: $effect replaces most lifecycle needs - runs on mount and when dependencies change, return function for cleanup. $effect.pre for before DOM update.",
      "exampleTranslation": "Svelte 4: onMount (หลัง mount, return cleanup), onDestroy (ก่อน destroy), beforeUpdate, afterUpdate tick() รอ pending DOM updates Svelte 5: $effect แทนที่ lifecycle ส่วนใหญ่ - รันตอน mount และเมื่อ dependencies เปลี่ยน return function สำหรับ cleanup $effect.pre สำหรับก่อน DOM update"
    },
    {
      "vocab": "What are Transitions and Animations?",
      "pronunciation": "// Built-in transitions\n<script>\n  import { fade, fly, slide, scale, blur, draw } from 'svelte/transition';\n  let visible = true;\n</script>\n\n{#if visible}\n  <div transition:fade>Fades in/out</div>\n  <div transition:fly={{ y: 200, duration: 500 }}>Flies</div>\n  <div transition:slide>Slides</div>\n  <div transition:scale={{ start: 0.5 }}>Scales</div>\n{/if}\n\n// Separate in/out transitions\n{#if visible}\n  <div in:fly={{ y: -50 }} out:fade>Different in/out</div>\n{/if}\n\n// Transition events\n<div\n  transition:fade\n  on:introstart={() => console.log('Intro starting')}\n  on:introend={() => console.log('Intro ended')}\n  on:outrostart\n  on:outroend\n>\n\n// Animations (for each blocks)\n<script>\n  import { flip } from 'svelte/animate';\n</script>\n\n{#each items as item (item.id)}\n  <li animate:flip={{ duration: 300 }}>{item.name}</li>\n{/each}\n\n// Tweened and spring stores\nimport { tweened, spring } from 'svelte/motion';\n\nconst progress = tweened(0, { duration: 400 });\nconst coords = spring({ x: 0, y: 0 }, { stiffness: 0.1, damping: 0.5 });\n\n<progress value={$progress} />\n<div style=\"transform: translate({$coords.x}px, {$coords.y}px)\" />",
      "meaning": "Transitions และ Animations คืออะไร?",
      "example": "Built-in transitions: fade, fly, slide, scale, blur, draw. Use transition: for in+out, or separate in:/out:. Parameters for customization (duration, delay, easing). flip for list reordering animations. Motion stores: tweened (smooth value changes), spring (physics-based). Transition events for callbacks.",
      "exampleTranslation": "Built-in transitions: fade, fly, slide, scale, blur, draw ใช้ transition: สำหรับ in+out หรือแยก in:/out: Parameters สำหรับ customization (duration, delay, easing) flip สำหรับ list reordering animations Motion stores: tweened (smooth value changes), spring (physics-based) Transition events สำหรับ callbacks"
    },
    {
      "vocab": "What are Actions in Svelte?",
      "pronunciation": "// Action: reusable DOM element behavior\n// use:actionName directive\n\n// Simple action\nfunction focus(node) {\n  node.focus();\n}\n\n<input use:focus />\n\n// Action with cleanup\nfunction tooltip(node, text) {\n  const tooltip = document.createElement('div');\n  tooltip.textContent = text;\n  \n  function show() {\n    document.body.appendChild(tooltip);\n  }\n  \n  function hide() {\n    tooltip.remove();\n  }\n  \n  node.addEventListener('mouseenter', show);\n  node.addEventListener('mouseleave', hide);\n  \n  return {\n    // Called when parameter changes\n    update(newText) {\n      tooltip.textContent = newText;\n    },\n    // Called when element is removed\n    destroy() {\n      node.removeEventListener('mouseenter', show);\n      node.removeEventListener('mouseleave', hide);\n    }\n  };\n}\n\n<div use:tooltip={message}>Hover me</div>\n\n// Multiple parameters\nfunction action(node, { param1, param2 }) {\n  // ...\n}\n\n<div use:action={{ param1: 'a', param2: 'b' }} />\n\n// Common use cases:\n// - Click outside\n// - Lazy loading\n// - Intersection observer\n// - Drag and drop",
      "meaning": "Actions ใน Svelte คืออะไร?",
      "example": "Actions are functions that run when element is mounted. use:action directive applies action. Receive node and optional parameters. Return object with update() (param changes) and destroy() (cleanup). Great for reusable DOM behaviors: tooltips, click outside, intersection observer, drag and drop. Similar to React refs + useEffect.",
      "exampleTranslation": "Actions เป็น functions ที่รันเมื่อ element ถูก mount use:action directive apply action รับ node และ optional parameters Return object ที่มี update() (param เปลี่ยน) และ destroy() (cleanup) ดีสำหรับ reusable DOM behaviors: tooltips, click outside, intersection observer, drag and drop คล้ายกับ React refs + useEffect"
    },
    {
      "vocab": "What are Slots in Svelte?",
      "pronunciation": "// Basic slot\n// Card.svelte\n<div class=\"card\">\n  <slot />  <!-- Content goes here -->\n</div>\n\n// Usage\n<Card>\n  <h2>Title</h2>\n  <p>Content</p>\n</Card>\n\n// Named slots\n// Layout.svelte\n<div class=\"layout\">\n  <header>\n    <slot name=\"header\" />\n  </header>\n  <main>\n    <slot />  <!-- Default slot -->\n  </main>\n  <footer>\n    <slot name=\"footer\" />\n  </footer>\n</div>\n\n// Usage\n<Layout>\n  <h1 slot=\"header\">Page Title</h1>\n  <p>Main content</p>\n  <p slot=\"footer\">Footer content</p>\n</Layout>\n\n// Slot fallback (default content)\n<slot>Default content if empty</slot>\n\n// Slot props (passing data back)\n// List.svelte\n{#each items as item}\n  <slot {item} index={items.indexOf(item)} />\n{/each}\n\n// Usage with let:\n<List {items} let:item let:index>\n  <li>{index}: {item.name}</li>\n</List>\n\n// Check if slot has content\n{#if $$slots.header}\n  <header><slot name=\"header\" /></header>\n{/if}",
      "meaning": "Slots ใน Svelte คืออะไร?",
      "example": "Slots allow passing content to components. Default slot: <slot />. Named slots: <slot name=\"x\" /> with slot=\"x\" on content. Fallback: content inside <slot>. Slot props: pass data back to parent with let:. $$slots object checks if slot has content. Similar to Vue slots or React children but more powerful.",
      "exampleTranslation": "Slots อนุญาตให้ส่ง content ไปยัง components Default slot: <slot /> Named slots: <slot name=\"x\" /> กับ slot=\"x\" บน content Fallback: content ใน <slot> Slot props: ส่ง data กลับไป parent ด้วย let: $$slots object check ว่า slot มี content คล้ายกับ Vue slots หรือ React children แต่ powerful กว่า"
    },
    {
      "vocab": "What is Context in Svelte?",
      "pronunciation": "// Context: share data without prop drilling\n// Similar to React Context\n\n// Parent.svelte\n<script>\n  import { setContext } from 'svelte';\n  import Child from './Child.svelte';\n  \n  // Set context with key\n  setContext('theme', {\n    color: 'dark',\n    toggle: () => { /* ... */ }\n  });\n  \n  // Use symbol for private context\n  const key = Symbol('private');\n  setContext(key, { secret: 'data' });\n</script>\n\n<Child />\n\n// Child.svelte (or any descendant)\n<script>\n  import { getContext } from 'svelte';\n  \n  const theme = getContext('theme');\n  console.log(theme.color);  // 'dark'\n</script>\n\n// Context with stores (reactive)\n// Parent.svelte\n<script>\n  import { setContext } from 'svelte';\n  import { writable } from 'svelte/store';\n  \n  const count = writable(0);\n  setContext('count', count);\n</script>\n\n// Child.svelte\n<script>\n  import { getContext } from 'svelte';\n  const count = getContext('count');\n</script>\n\n<button on:click={() => $count++}>{$count}</button>\n\n// hasContext: check if context exists\nimport { hasContext } from 'svelte';\nif (hasContext('theme')) { ... }",
      "meaning": "Context ใน Svelte คืออะไร?",
      "example": "Context shares data with descendants without prop drilling. setContext(key, value) in parent, getContext(key) in child. Must be called during component init. Use symbols for private context. Combine with stores for reactive context. hasContext() checks if context exists. Simpler than React Context - no Provider component needed.",
      "exampleTranslation": "Context share data กับ descendants โดยไม่ต้อง prop drilling setContext(key, value) ใน parent, getContext(key) ใน child ต้องเรียกระหว่าง component init ใช้ symbols สำหรับ private context รวมกับ stores สำหรับ reactive context hasContext() check ว่า context มีอยู่ ง่ายกว่า React Context - ไม่ต้อง Provider component"
    },
    {
      "vocab": "What is SvelteKit?",
      "pronunciation": "// SvelteKit: full-stack Svelte framework\n// Like Next.js for React\n\n// Create project\nnpx sv create my-app\n\n// Project structure\nsrc/\n├── routes/             // File-based routing\n│   ├── +page.svelte    // Page component\n│   ├── +layout.svelte  // Layout\n│   ├── +page.server.ts // Server load function\n│   ├── +page.ts        // Universal load\n│   ├── +error.svelte   // Error page\n│   └── api/\n│       └── +server.ts  // API endpoint\n├── lib/                // Shared code ($lib alias)\n├── app.html            // HTML template\n└── hooks.server.ts     // Server hooks\n\n// Features:\n// - File-based routing\n// - SSR, SSG, SPA modes\n// - Server-side data loading\n// - Form actions\n// - Hooks for auth\n// - API routes\n// - Adapters for deployment\n\n// Commands\nnpm run dev      // Development\nnpm run build    // Production build\nnpm run preview  // Preview build",
      "meaning": "SvelteKit คืออะไร?",
      "example": "SvelteKit is full-stack framework for Svelte (like Next.js for React). Features: file-based routing, SSR/SSG/SPA, server data loading, form actions, API routes. Special files: +page.svelte (page), +layout.svelte (layout), +page.server.ts (server load), +server.ts (API). Adapters for Vercel, Node, static, etc.",
      "exampleTranslation": "SvelteKit คือ full-stack framework สำหรับ Svelte (เหมือน Next.js สำหรับ React) Features: file-based routing, SSR/SSG/SPA, server data loading, form actions, API routes Special files: +page.svelte (page), +layout.svelte (layout), +page.server.ts (server load), +server.ts (API) Adapters สำหรับ Vercel, Node, static เป็นต้น"
    },
    {
      "vocab": "How does routing work in SvelteKit?",
      "pronunciation": "// File-based routing in src/routes/\n\n// Static routes\nroutes/\n├── +page.svelte        // /\n├── about/\n│   └── +page.svelte    // /about\n└── blog/\n    └── +page.svelte    // /blog\n\n// Dynamic routes\nroutes/\n├── blog/\n│   └── [slug]/\n│       └── +page.svelte  // /blog/:slug\n└── [category]/\n    └── [item]/\n        └── +page.svelte  // /:category/:item\n\n// Rest parameters\nroutes/\n└── docs/\n    └── [...path]/\n        └── +page.svelte  // /docs/*, /docs/a/b/c\n\n// Optional parameters\nroutes/\n└── [[lang]]/\n    └── +page.svelte  // / or /en or /fr\n\n// Access params\n// +page.svelte\n<script>\n  export let data;  // From load function\n</script>\n\n// +page.server.ts\nexport function load({ params }) {\n  return {\n    slug: params.slug\n  };\n}\n\n// Groups (no URL impact)\nroutes/\n└── (auth)/\n    ├── login/+page.svelte   // /login\n    └── register/+page.svelte // /register",
      "meaning": "Routing ทำงานอย่างไรใน SvelteKit?",
      "example": "File-based routing in src/routes/. [param] for dynamic segments, [...rest] for catch-all, [[optional]] for optional. +page.svelte is the page component. Access params in load function. Route groups with (name) don't affect URL. Layouts with +layout.svelte apply to nested routes.",
      "exampleTranslation": "File-based routing ใน src/routes/ [param] สำหรับ dynamic segments, [...rest] สำหรับ catch-all, [[optional]] สำหรับ optional +page.svelte คือ page component เข้าถึง params ใน load function Route groups ด้วย (name) ไม่กระทบ URL Layouts ด้วย +layout.svelte apply กับ nested routes"
    },
    {
      "vocab": "How to load data in SvelteKit?",
      "pronunciation": "// +page.server.ts: Server-only load\nexport async function load({ params, fetch, cookies }) {\n  const res = await fetch(`/api/posts/${params.slug}`);\n  const post = await res.json();\n  \n  return {\n    post,\n    secret: process.env.SECRET  // Server-only\n  };\n}\n\n// +page.ts: Universal load (server + client)\nexport async function load({ params, fetch }) {\n  const res = await fetch(`/api/posts/${params.slug}`);\n  return {\n    post: await res.json()\n  };\n}\n\n// +page.svelte: Use data\n<script>\n  export let data;  // From load function\n</script>\n\n<h1>{data.post.title}</h1>\n\n// +layout.server.ts: Layout data\nexport async function load({ cookies }) {\n  const user = await getUser(cookies.get('token'));\n  return { user };\n}\n\n// +layout.svelte\n<script>\n  export let data;\n</script>\n\n<nav>Welcome, {data.user?.name}</nav>\n<slot />  <!-- Page content -->\n\n// Load function context:\n// - params: route parameters\n// - fetch: enhanced fetch\n// - cookies: cookie access (server only)\n// - url: URL object\n// - parent: parent layout data\n// - depends: invalidation dependencies",
      "meaning": "วิธี load data ใน SvelteKit ทำอย่างไร?",
      "example": "+page.server.ts for server-only load (database, secrets). +page.ts for universal load (runs on server and client). Return object becomes data prop in page. +layout.server.ts for shared data across routes. Load context includes params, fetch, cookies, url. Enhanced fetch handles relative URLs and credentials.",
      "exampleTranslation": "+page.server.ts สำหรับ server-only load (database, secrets) +page.ts สำหรับ universal load (รันบน server และ client) Return object กลายเป็น data prop ใน page +layout.server.ts สำหรับ shared data ข้าม routes Load context รวม params, fetch, cookies, url Enhanced fetch จัดการ relative URLs และ credentials"
    },
    {
      "vocab": "What are Form Actions in SvelteKit?",
      "pronunciation": "// +page.server.ts\nimport { fail, redirect } from '@sveltejs/kit';\n\nexport const actions = {\n  // Default action\n  default: async ({ request, cookies }) => {\n    const data = await request.formData();\n    const email = data.get('email');\n    const password = data.get('password');\n\n    if (!email) {\n      return fail(400, { email, missing: true });\n    }\n\n    const user = await login(email, password);\n    if (!user) {\n      return fail(401, { email, incorrect: true });\n    }\n\n    cookies.set('token', user.token, { path: '/' });\n    throw redirect(303, '/dashboard');\n  },\n\n  // Named action\n  register: async ({ request }) => {\n    // Handle registration\n  }\n};\n\n// +page.svelte\n<script>\n  import { enhance } from '$app/forms';\n  export let form;  // Action return value\n</script>\n\n<!-- Default action -->\n<form method=\"POST\" use:enhance>\n  <input name=\"email\" value={form?.email ?? ''} />\n  {#if form?.missing}<p>Email required</p>{/if}\n  {#if form?.incorrect}<p>Invalid credentials</p>{/if}\n  <button>Login</button>\n</form>\n\n<!-- Named action -->\n<form method=\"POST\" action=\"?/register\" use:enhance>\n  <button>Register</button>\n</form>",
      "meaning": "Form Actions ใน SvelteKit คืออะไร?",
      "example": "Form actions handle form submissions on server. Define in +page.server.ts actions object. Default action or named with action=\"?/name\". Return data for form prop in page. fail() for validation errors. redirect() for navigation. use:enhance for progressive enhancement without full reload.",
      "exampleTranslation": "Form actions จัดการ form submissions บน server Define ใน +page.server.ts actions object Default action หรือ named ด้วย action=\"?/name\" Return data สำหรับ form prop ใน page fail() สำหรับ validation errors redirect() สำหรับ navigation use:enhance สำหรับ progressive enhancement โดยไม่ reload เต็ม"
    },
    {
      "vocab": "How to create API routes in SvelteKit?",
      "pronunciation": "// +server.ts: API endpoint\n// src/routes/api/posts/+server.ts\nimport { json, error } from '@sveltejs/kit';\n\n// GET /api/posts\nexport async function GET({ url }) {\n  const limit = url.searchParams.get('limit') ?? 10;\n  const posts = await db.post.findMany({ take: +limit });\n  return json(posts);\n}\n\n// POST /api/posts\nexport async function POST({ request }) {\n  const body = await request.json();\n  const post = await db.post.create({ data: body });\n  return json(post, { status: 201 });\n}\n\n// Dynamic route: /api/posts/[id]/+server.ts\nexport async function GET({ params }) {\n  const post = await db.post.findUnique({\n    where: { id: params.id }\n  });\n  \n  if (!post) {\n    throw error(404, 'Post not found');\n  }\n  \n  return json(post);\n}\n\nexport async function DELETE({ params }) {\n  await db.post.delete({ where: { id: params.id } });\n  return new Response(null, { status: 204 });\n}\n\n// Supported methods:\n// GET, POST, PUT, PATCH, DELETE, OPTIONS, HEAD\n\n// Response helpers\nreturn json(data);           // JSON response\nreturn text('Hello');        // Text response\nreturn new Response(body);   // Custom response\nthrow error(404, 'message'); // Error response\nthrow redirect(303, '/');    // Redirect",
      "meaning": "วิธีสร้าง API routes ใน SvelteKit ทำอย่างไร?",
      "example": "+server.ts creates API endpoints. Export functions named after HTTP methods: GET, POST, PUT, DELETE. Access url.searchParams, request.json(), params. Return json() or Response. throw error() for errors, redirect() for redirects. Dynamic routes with [param]. Like Next.js Route Handlers.",
      "exampleTranslation": "+server.ts สร้าง API endpoints Export functions ตั้งชื่อตาม HTTP methods: GET, POST, PUT, DELETE เข้าถึง url.searchParams, request.json(), params Return json() หรือ Response throw error() สำหรับ errors, redirect() สำหรับ redirects Dynamic routes ด้วย [param] เหมือน Next.js Route Handlers"
    },
    {
      "vocab": "What are Hooks in SvelteKit?",
      "pronunciation": "// hooks.server.ts: Server hooks\nimport type { Handle, HandleServerError } from '@sveltejs/kit';\n\n// Handle: runs for every request\nexport const handle: Handle = async ({ event, resolve }) => {\n  // Before response\n  const token = event.cookies.get('token');\n  if (token) {\n    event.locals.user = await getUser(token);\n  }\n  \n  // Get response\n  const response = await resolve(event);\n  \n  // After response (modify headers, etc.)\n  response.headers.set('x-custom', 'value');\n  \n  return response;\n};\n\n// Multiple handles\nimport { sequence } from '@sveltejs/kit/hooks';\nexport const handle = sequence(authHandle, loggingHandle);\n\n// Handle errors\nexport const handleError: HandleServerError = ({ error, event }) => {\n  console.error(error);\n  return {\n    message: 'Internal Error',\n    code: 'UNKNOWN'\n  };\n};\n\n// hooks.client.ts: Client hooks\nexport const handleError = ({ error }) => {\n  console.error(error);\n  return { message: 'Client Error' };\n};\n\n// Access locals in load functions\nexport function load({ locals }) {\n  return {\n    user: locals.user\n  };\n}\n\n// Type locals in app.d.ts\ndeclare global {\n  namespace App {\n    interface Locals {\n      user: User | null;\n    }\n  }\n}",
      "meaning": "Hooks ใน SvelteKit คืออะไร?",
      "example": "Hooks intercept requests/responses. handle() runs for every request - great for auth, logging. Access event.cookies, event.locals. sequence() chains multiple handles. handleError() customizes error responses. event.locals passes data to load functions. Type locals in app.d.ts. Similar to Next.js middleware but more powerful.",
      "exampleTranslation": "Hooks intercept requests/responses handle() รันสำหรับทุก request - ดีสำหรับ auth, logging เข้าถึง event.cookies, event.locals sequence() chain หลาย handles handleError() customize error responses event.locals ส่ง data ให้ load functions Type locals ใน app.d.ts คล้าย Next.js middleware แต่ powerful กว่า"
    },
    {
      "vocab": "How to handle component composition in Svelte?",
      "pronunciation": "// Snippet: reusable markup (Svelte 5)\n{#snippet greeting(name)}\n  <h1>Hello, {name}!</h1>\n{/snippet}\n\n{@render greeting('World')}\n{@render greeting('Svelte')}\n\n// Pass snippet as prop\n<List items={todos} {row} />\n\n{#snippet row(item)}\n  <li>{item.text}</li>\n{/snippet}\n\n// Component with snippet prop\n<script>\n  let { items, row } = $props();\n</script>\n\n<ul>\n  {#each items as item}\n    {@render row(item)}\n  {/each}\n</ul>\n\n// Special elements\n<svelte:component this={Component} />  // Dynamic component\n<svelte:element this=\"div\" />          // Dynamic element\n<svelte:self />                        // Recursive component\n<svelte:window on:keydown={handler} />  // Window events\n<svelte:document on:click={handler} />  // Document events\n<svelte:body on:mouseenter={handler} /> // Body events\n<svelte:head><title>Page</title></svelte:head>  // Head\n\n// Component as prop\n<script>\n  export let icon;  // Component\n</script>\n\n<svelte:component this={icon} />",
      "meaning": "วิธีจัดการ component composition ใน Svelte ทำอย่างไร?",
      "example": "Svelte 5 snippets: {#snippet name(params)}...{/snippet}, render with {@render}. Pass snippets as props for render props pattern. Special elements: svelte:component (dynamic), svelte:element (dynamic tag), svelte:self (recursion), svelte:window/document/body (events), svelte:head (metadata).",
      "exampleTranslation": "Svelte 5 snippets: {#snippet name(params)}...{/snippet} render ด้วย {@render} ส่ง snippets เป็น props สำหรับ render props pattern Special elements: svelte:component (dynamic), svelte:element (dynamic tag), svelte:self (recursion), svelte:window/document/body (events), svelte:head (metadata)"
    },
    {
      "vocab": "What are common Svelte patterns?",
      "pronunciation": "// 1. Reactive class binding\n<div class:active={isActive} class:error={hasError}>\n\n// 2. Style binding\n<div style:color={textColor} style:--theme={theme}>\n\n// 3. Component forwarding\n<button {...$$restProps} on:click>\n  <slot />\n</button>\n\n// 4. Module context (shared state)\n<script context=\"module\">\n  let count = 0;  // Shared across all instances\n</script>\n\n// 5. Await block pattern\n{#await promise then data}\n  <p>{data}</p>\n{/await}\n\n// 6. Keyed each with animation\n{#each items as item (item.id)}\n  <li animate:flip>{item.name}</li>\n{/each}\n\n// 7. Action composition\nfunction combined(node, params) {\n  const a = actionA(node, params);\n  const b = actionB(node, params);\n  return {\n    destroy() {\n      a.destroy?.();\n      b.destroy?.();\n    }\n  };\n}\n\n// 8. Store subscription shorthand\n$: console.log($count);  // Auto-subscribe\n\n// 9. Derived store for transformations\nconst filtered = derived(items, $items =>\n  $items.filter(i => i.active)\n);",
      "meaning": "Svelte patterns ที่ใช้บ่อยมีอะไรบ้าง?",
      "example": "Common patterns: class:name directive for conditional classes, style:prop for dynamic styles, $$restProps for forwarding, context=\"module\" for shared state, keyed each with animations, action composition, $ prefix for store auto-subscribe, derived stores for transformations. Less boilerplate than React patterns.",
      "exampleTranslation": "Patterns ที่ใช้บ่อย: class:name directive สำหรับ conditional classes, style:prop สำหรับ dynamic styles, $$restProps สำหรับ forwarding, context=\"module\" สำหรับ shared state, keyed each กับ animations, action composition, $ prefix สำหรับ store auto-subscribe, derived stores สำหรับ transformations Boilerplate น้อยกว่า React patterns"
    }
  ]
}
